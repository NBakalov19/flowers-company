<th:block>
    <th:block sec:authorize="isAnonymous()">
        <nav class="navbar container navbar-expand-lg navbar-light nav-color">
            <a class="navbar-brand" th:href="@{/}">Flowers<span> Ltd.</span> </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#guestNav"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="guestNav">
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" th:href="@{/}">Home<span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/users/login}">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/users/register}">Register</a>
                    </li>
                </ul>
            </div>
        </nav>
    </th:block>
    <th:block sec:authorize="isAuthenticated()">
        <nav class="navbar container navbar-expand-lg navbar-light nav-color">
            <a class="navbar-brand" th:href="@{/home}">Flowers<span> Ltd.</span> </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" th:href="@{/home}">Home<span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/users/profile}">Profile</a>
                    </li>
                    <th:block sec:authorize="hasRole('ROLE_CUSTOMER')">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="ordersDropdown"
                               role="button" data-toggle="dropdown" aria-haspopup="true"
                               aria-expanded="false"> Orders </a>
                            <div class="dropdown-menu" aria-labelledby="ordersDropdown">
                                <a class="dropdown-item" th:href="@{/orders/make-order}">Make Order</a>
                                <a class="dropdown-item" th:href="@{/orders/my-orders}">My Orders</a>
                            </div>
                        </li>
                    </th:block>
                    <th:block sec:authorize="hasRole('ROLE_OPERATOR')">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="operatorDropdown"
                               role="button" data-toggle="dropdown" aria-haspopup="true"
                               aria-expanded="false"> Flowers </a>
                            <div class="dropdown-menu" aria-labelledby="operatorDropdown">
                                <a class="dropdown-item" th:href="@{/flowers/create-batch}">Create Flowers Batch</a>
                                <a class="dropdown-item" th:href="@{/flowers/todays-batches}">Today`s Batches</a>
                            </div>
                        </li>
                    </th:block>
                    <th:block sec:authorize="hasRole('ROLE_OPERATOR')">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="warehouseDropdown"
                               role="button" data-toggle="dropdown" aria-haspopup="true"
                               aria-expanded="false"> Warehouses </a>
                            <div class="dropdown-menu" aria-labelledby="warehouseDropdown">
                                <a class="dropdown-item" th:href="@{/warehouses/all}">All Warehouses</a>
                                <th:block sec:authorize="hasRole('ROLE_ADMIN')">
                                    <a class="dropdown-item" th:href="@{/warehouses/create-warehouse}">Create
                                        Warehouse</a>
                                </th:block>
                            </div>
                        </li>
                    </th:block>
                    <th:block sec:authorize="hasRole('ROLE_ADMIN')">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="adminDropdown"
                               role="button" data-toggle="dropdown" aria-haspopup="true"
                               aria-expanded="false"> Admin </a>
                            <div class="dropdown-menu" aria-labelledby="ordersDropdown">
                                <a class="dropdown-item" th:href="@{/orders/all}">All Orders</a>
                                <a class="dropdown-item" th:href="@{/users/all}">All Users</a>
                            </div>
                        </li>
                    </th:block>
                    <li class="nav-item">
                        <a th:href="@{/logout?login}" class="logout-button nav-link">Logout</a>
                    </li>
                </ul>
            </div>
        </nav>
    </th:block>
</th:block>
